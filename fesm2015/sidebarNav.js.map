{"version":3,"file":"sidebarNav.js","sources":["../../../../packages/abc/sidebar-nav/sidebar-nav.component.ts","../../../../packages/abc/sidebar-nav/sidebar-nav.module.ts","../../../../packages/abc/sidebar-nav/sidebarNav.ts"],"sourcesContent":["import { Direction, Directionality } from '@angular/cdk/bidi';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { Menu, MenuService, SettingsService } from '@delon/theme';\nimport { BooleanInput, InputBoolean, InputNumber, NumberInput } from '@delon/util/decorator';\nimport { WINDOW } from '@delon/util/token';\nimport { Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { Nav } from './sidebar-nav.types';\n\nconst SHOWCLS = 'sidebar-nav__floating-show';\nconst FLOATINGCLS = 'sidebar-nav__floating';\n\n/**\n * @deprecated Will be removed in 12.0.0, Pls used `layout-default` instead\n */\n@Component({\n  selector: 'sidebar-nav',\n  exportAs: 'sidebarNav',\n  templateUrl: './sidebar-nav.component.html',\n  host: {\n    '(click)': '_click()',\n    '(document:click)': '_docClick()',\n  },\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class SidebarNavComponent implements OnInit, OnDestroy {\n  static ngAcceptInputType_disabledAcl: BooleanInput;\n  static ngAcceptInputType_autoCloseUnderPad: BooleanInput;\n  static ngAcceptInputType_recursivePath: BooleanInput;\n  static ngAcceptInputType_openStrictly: BooleanInput;\n  static ngAcceptInputType_maxLevelIcon: NumberInput;\n\n  private bodyEl: HTMLBodyElement;\n  private destroy$ = new Subject<void>();\n  private floatingEl: HTMLDivElement;\n  list: Nav[] = [];\n  dir: Direction = 'ltr';\n\n  @Input() @InputBoolean() disabledAcl = false;\n  @Input() @InputBoolean() autoCloseUnderPad = true;\n  @Input() @InputBoolean() recursivePath = true;\n  @Input() @InputBoolean() openStrictly = false;\n  @Input() @InputNumber() maxLevelIcon = 3;\n  @Output() readonly select = new EventEmitter<Menu>();\n\n  get collapsed(): boolean {\n    return this.settings.layout.collapsed;\n  }\n\n  constructor(\n    private menuSrv: MenuService,\n    private settings: SettingsService,\n    private router: Router,\n    private render: Renderer2,\n    private cdr: ChangeDetectorRef,\n    private ngZone: NgZone,\n    private sanitizer: DomSanitizer,\n    @Inject(DOCUMENT) private doc: any,\n    @Inject(WINDOW) private win: Window,\n    @Optional() private directionality: Directionality,\n  ) {}\n\n  private getLinkNode(node: HTMLElement): HTMLElement | null {\n    node = node.nodeName === 'A' ? node : (node.parentNode as HTMLElement);\n    return node.nodeName !== 'A' ? null : node;\n  }\n\n  private floatingClickHandle(e: MouseEvent): boolean {\n    e.stopPropagation();\n    const linkNode = this.getLinkNode(e.target as HTMLElement);\n    if (linkNode == null) {\n      return false;\n    }\n    const id = +linkNode.dataset!.id!;\n    // Should be ingore children title trigger event\n    if (isNaN(id)) {\n      return false;\n    }\n\n    let item: Nav;\n    this.menuSrv.visit(this.list, (i: Nav) => {\n      if (!item && i._id === id) {\n        item = i;\n      }\n    });\n    this.to(item!);\n    this.hideAll();\n    e.preventDefault();\n    return false;\n  }\n\n  private clearFloating(): void {\n    if (!this.floatingEl) return;\n    this.floatingEl.removeEventListener('click', this.floatingClickHandle.bind(this));\n    // fix ie: https://github.com/ng-alain/delon/issues/52\n    if (this.floatingEl.hasOwnProperty('remove')) {\n      this.floatingEl.remove();\n    } else if (this.floatingEl.parentNode) {\n      this.floatingEl.parentNode.removeChild(this.floatingEl);\n    }\n  }\n\n  private genFloating(): void {\n    this.clearFloating();\n    this.floatingEl = this.render.createElement('div');\n    this.floatingEl.classList.add(FLOATINGCLS + '-container');\n    this.floatingEl.addEventListener('click', this.floatingClickHandle.bind(this), false);\n    this.bodyEl.appendChild(this.floatingEl);\n  }\n\n  private genSubNode(linkNode: HTMLLinkElement, item: Nav): HTMLUListElement {\n    const id = `_sidebar-nav-${item._id}`;\n    const childNode = item.badge ? linkNode.nextElementSibling!.nextElementSibling! : linkNode.nextElementSibling!;\n    const node = childNode.cloneNode(true) as HTMLUListElement;\n    node.id = id;\n    node.classList.add(FLOATINGCLS);\n    node.addEventListener(\n      'mouseleave',\n      () => {\n        node.classList.remove(SHOWCLS);\n      },\n      false,\n    );\n    this.floatingEl.appendChild(node);\n    return node;\n  }\n\n  private hideAll(): void {\n    const allNode = this.floatingEl.querySelectorAll('.' + FLOATINGCLS);\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < allNode.length; i++) {\n      allNode[i].classList.remove(SHOWCLS);\n    }\n  }\n\n  // calculate the node position values.\n  private calPos(linkNode: HTMLLinkElement, node: HTMLUListElement): void {\n    const rect = linkNode.getBoundingClientRect();\n    // bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14721015/\n    const scrollTop = Math.max(this.doc.documentElement.scrollTop, this.bodyEl.scrollTop);\n    const docHeight = Math.max(this.doc.documentElement.clientHeight, this.bodyEl.clientHeight);\n    const spacing = 5;\n    let offsetHeight = -spacing;\n    if (docHeight < rect.top + node.clientHeight) {\n      offsetHeight = rect.top + node.clientHeight - docHeight + spacing;\n    }\n    node.style.top = `${rect.top + scrollTop - offsetHeight}px`;\n    if (this.dir === 'rtl') {\n      node.style.right = `${rect.width + spacing}px`;\n    } else {\n      node.style.left = `${rect.right + spacing}px`;\n    }\n  }\n\n  showSubMenu(e: MouseEvent, item: Nav): void {\n    if (this.collapsed !== true) {\n      return;\n    }\n    this.ngZone.runOutsideAngular(() => {\n      e.preventDefault();\n      const linkNode = e.target as Element;\n      this.genFloating();\n      const subNode = this.genSubNode(linkNode as HTMLLinkElement, item);\n      this.hideAll();\n      subNode.classList.add(SHOWCLS);\n      this.calPos(linkNode as HTMLLinkElement, subNode);\n    });\n  }\n\n  to(item: Menu): void {\n    this.select.emit(item);\n    if (item.disabled) return;\n\n    if (item.externalLink) {\n      if (item.target === '_blank') {\n        this.win.open(item.externalLink);\n      } else {\n        this.win.location.href = item.externalLink;\n      }\n      return;\n    }\n    this.ngZone.run(() => this.router.navigateByUrl(item.link!));\n  }\n\n  toggleOpen(item: Nav): void {\n    if (!this.openStrictly) {\n      this.menuSrv.visit(this.list, (i: Nav) => {\n        if (i !== item) i._open = false;\n      });\n      let pItem = item._parent as Nav;\n      while (pItem) {\n        pItem._open = true;\n        pItem = pItem._parent!;\n      }\n    }\n    item._open = !item._open;\n    this.cdr.markForCheck();\n  }\n\n  _click(): void {\n    if (this.isPad && this.collapsed) {\n      this.openAside(false);\n      this.hideAll();\n    }\n  }\n\n  _docClick(): void {\n    if (this.collapsed) {\n      this.hideAll();\n    }\n  }\n\n  private openedByUrl(url: string | null): void {\n    const { menuSrv, recursivePath, openStrictly } = this;\n    let findItem: Nav | null = menuSrv.getHit(this.menuSrv.menus, url!, recursivePath, (i: Nav) => {\n      i._selected = false;\n      if (!openStrictly) {\n        i._open = false;\n      }\n    });\n    if (findItem == null) return;\n\n    do {\n      findItem._selected = true;\n      if (!openStrictly) {\n        findItem._open = true;\n      }\n      findItem = findItem._parent!;\n    } while (findItem);\n  }\n\n  ngOnInit(): void {\n    const { doc, router, destroy$, menuSrv, settings, cdr } = this;\n    this.bodyEl = doc.querySelector('body');\n    this.openedByUrl(router.url);\n    this.ngZone.runOutsideAngular(() => this.genFloating());\n    menuSrv.change.pipe(takeUntil(destroy$)).subscribe(data => {\n      menuSrv.visit(data, (i: Nav, _p, depth) => {\n        i._text = this.sanitizer.bypassSecurityTrustHtml(i.text!);\n        i._needIcon = depth! <= this.maxLevelIcon && !!i.icon;\n        if (!i._aclResult) {\n          if (this.disabledAcl) {\n            i.disabled = true;\n          } else {\n            i._hidden = true;\n          }\n        }\n        if (this.openStrictly) {\n          i._open = i.open != null ? i.open : false;\n        }\n      });\n      this.list = menuSrv.menus.filter((w: Nav) => w._hidden !== true);\n      cdr.detectChanges();\n    });\n    router.events.pipe(takeUntil(destroy$)).subscribe(e => {\n      if (e instanceof NavigationEnd) {\n        this.openedByUrl(e.urlAfterRedirects);\n        this.underPad();\n        this.cdr.detectChanges();\n      }\n    });\n    settings.notify\n      .pipe(\n        takeUntil(destroy$),\n        filter(t => t.type === 'layout' && t.name === 'collapsed'),\n      )\n      .subscribe(() => this.clearFloating());\n    this.underPad();\n\n    this.dir = this.directionality.value;\n    this.directionality.change?.pipe(takeUntil(destroy$)).subscribe((direction: Direction) => {\n      this.dir = direction;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n    this.clearFloating();\n  }\n\n  // #region Under pad\n\n  private get isPad(): boolean {\n    return window.innerWidth < 768;\n  }\n\n  private underPad(): void {\n    if (this.autoCloseUnderPad && this.isPad && !this.collapsed) {\n      setTimeout(() => this.openAside(true));\n    }\n  }\n\n  private openAside(status: boolean): void {\n    this.settings.setLayout('collapsed', status);\n  }\n\n  // #endregion\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\nimport { SidebarNavComponent } from './sidebar-nav.component';\n\n@NgModule({\n  imports: [CommonModule, RouterModule, NzIconModule, NzToolTipModule],\n  declarations: [SidebarNavComponent],\n  exports: [SidebarNavComponent],\n})\nexport class SidebarNavModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}