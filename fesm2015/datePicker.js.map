{"version":3,"file":"datePicker.js","sources":["../../../../packages/abc/date-picker/range.component.ts","../../../../packages/abc/date-picker/range-shortcut.component.ts","../../../../packages/abc/date-picker/range.directive.ts","../../../../packages/abc/date-picker/date-picker.module.ts","../../../../packages/abc/date-picker/datePicker.ts"],"sourcesContent":["import { Component, EventEmitter, forwardRef, Input, Output, TemplateRef, ViewChild } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { AlainConfigService, AlainDateRangePickerShortcut, AlainDateRangePickerShortcutItem } from '@delon/util/config';\nimport { fixEndTimeOfRange, getTimeDistance } from '@delon/util/date-time';\nimport { InputBoolean } from '@delon/util/decorator';\nimport { deepMergeKey } from '@delon/util/other';\nimport { FunctionProp, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { NzRangePickerComponent } from 'ng-zorro-antd/date-picker';\n\n/**\n * @deprecated Will be removed in 12.0.0, Pls used `nz-range-picker` and `[extend]` directive instead, for examples:\n * ```html\n * <range-picker [(ngModel)]=\"i.start\" [(ngModelEnd)]=\"i.end\"></range-picker>\n * ```\n * Changed to =>\n * ```html\n * <nz-range-picker [(ngModel)]=\"i.start\" extend [(ngModelEnd)]=\"i.end\"></nz-range-picker>\n * ```\n */\n@Component({\n  selector: 'range-picker',\n  exportAs: 'rangePicker',\n  templateUrl: './range.component.html',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: forwardRef(() => RangePickerComponent),\n    },\n  ],\n})\nexport class RangePickerComponent implements ControlValueAccessor {\n  private onChangeFn: (val: Date) => void;\n  private _shortcut: AlainDateRangePickerShortcut;\n  private defaultShortcuts: AlainDateRangePickerShortcut;\n  @ViewChild('comp', { static: false }) private comp: NzRangePickerComponent;\n  value: Array<Date | null> = [];\n\n  @Input() ngModelEnd: Date;\n  @Input()\n  set shortcut(val: AlainDateRangePickerShortcut | null) {\n    const item = deepMergeKey({}, true, this.defaultShortcuts, val == null ? {} : val) as AlainDateRangePickerShortcut;\n    if (typeof val === 'boolean') {\n      item.enabled = val;\n    }\n    (item.list || []).forEach(i => {\n      i._text = this.dom.bypassSecurityTrustHtml(i.text);\n    });\n    this._shortcut = item;\n  }\n  get shortcut(): AlainDateRangePickerShortcut | null {\n    return this._shortcut;\n  }\n  @Output() readonly ngModelEndChange = new EventEmitter<Date>();\n\n  // #region Native properties\n\n  @Input() nzAllowClear = true;\n  @Input() nzAutoFocus = false;\n  @Input() nzClassName: string;\n  @Input() nzDisabled: boolean;\n  @Input() nzSize: string;\n  @Input() nzStyle: string;\n  @Input() nzDisabledDate: (d: Date) => boolean;\n  @Input() nzLocale: object;\n  @Input() nzPopupStyle: object;\n  @Input() nzDropdownClassName: string;\n  @Input() nzPlaceHolder: string | string[];\n  @Output() readonly nzOnOpenChange = new EventEmitter<boolean>();\n\n  // range\n  @Input() nzDateRender: any;\n  @Input() nzFormat: any;\n  @Input() nzDisabledTime: any;\n  @Input() nzRenderExtraFooter: FunctionProp<TemplateRef<void> | string>;\n  @Input() nzShowTime: any;\n  @Input() @InputBoolean() nzShowToday: boolean = true;\n  @Input() nzMode: any;\n  @Input() nzRanges: any;\n  @Output() readonly nzOnPanelChange = new EventEmitter<any>();\n  @Output() readonly nzOnOk = new EventEmitter<any>();\n\n  // #endregion\n\n  constructor(private dom: DomSanitizer, configSrv: AlainConfigService) {\n    const cog = configSrv.merge('dataRange', {\n      nzFormat: 'yyyy-MM-dd',\n      nzAllowClear: true,\n      nzAutoFocus: false,\n      nzPopupStyle: { position: 'relative' },\n      nzShowToday: true,\n      shortcuts: {\n        enabled: false,\n        closed: true,\n        list: [\n          {\n            text: '今天',\n            fn: () => getTimeDistance('today'),\n          },\n          {\n            text: '昨天',\n            fn: () => getTimeDistance('yesterday'),\n          },\n          {\n            text: '近3天',\n            fn: () => getTimeDistance(-2),\n          },\n          {\n            text: '近7天',\n            fn: () => getTimeDistance(-6),\n          },\n          {\n            text: '本周',\n            fn: () => getTimeDistance('week'),\n          },\n          {\n            text: '本月',\n            fn: () => getTimeDistance('month'),\n          },\n          {\n            text: '全年',\n            fn: () => getTimeDistance('year'),\n          },\n        ],\n      },\n    })!;\n    this.defaultShortcuts = { ...cog.shortcuts } as AlainDateRangePickerShortcut;\n    Object.assign(this, cog);\n  }\n\n  _nzOnOpenChange(e: any): void {\n    this.nzOnOpenChange.emit(e);\n  }\n\n  _nzOnPanelChange(e: any): void {\n    this.nzOnPanelChange.emit(e);\n  }\n\n  _nzOnOk(e: any): void {\n    this.nzOnOk.emit(e);\n  }\n\n  valueChange(e: [Date, Date]): void {\n    e = fixEndTimeOfRange(e);\n    this.onChangeFn(e[0]);\n    this.ngModelEnd = e[1];\n    this.ngModelEndChange.emit(e[1]);\n  }\n\n  writeValue(value: Date): void {\n    this.value = value && this.ngModelEnd ? [value, this.ngModelEnd] : [];\n  }\n\n  registerOnChange(fn: (val: Date) => void): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(_fn: () => void): void {\n    // this.onTouchedFn = fn;\n  }\n\n  setDisabledState(disabled: boolean): void {\n    this.nzDisabled = disabled;\n  }\n\n  clickShortcut(item: AlainDateRangePickerShortcutItem): void {\n    this.value = item.fn(this.value as any);\n    this.valueChange(this.value as [Date, Date]);\n    if (this._shortcut.closed) {\n      // tslint:disable-next-line:no-string-literal\n      (this.comp as NzSafeAny)['picker'].hideOverlay();\n    }\n  }\n}\n","import { Component, TemplateRef, ViewChild } from '@angular/core';\nimport { AlainDateRangePickerShortcutItem } from '@delon/util/config';\n\n@Component({\n  selector: '',\n  template: `\n    <ng-template #tpl>\n      <a *ngFor=\"let i of list; let first = first\" (click)=\"click(i)\" [innerHTML]=\"i._text\" [ngClass]=\"{ 'ml-sm': !first }\"></a>\n    </ng-template>\n  `,\n})\nexport class RangePickerShortcutTplComponent {\n  @ViewChild('tpl', { static: true })\n  tpl!: TemplateRef<void>;\n\n  list: AlainDateRangePickerShortcutItem[] = [];\n\n  click(_: AlainDateRangePickerShortcutItem): void {}\n}\n","import {\n  AfterViewInit,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Directive,\n  EventEmitter,\n  Host,\n  Injector,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  TemplateRef,\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { AlainConfigService, AlainDateRangePickerShortcut, AlainDateRangePickerShortcutItem } from '@delon/util/config';\nimport { fixEndTimeOfRange, getTimeDistance } from '@delon/util/date-time';\nimport { assert, deepMergeKey } from '@delon/util/other';\nimport { NzDatePickerComponent, NzRangePickerComponent } from 'ng-zorro-antd/date-picker';\nimport { DatePickerService } from 'ng-zorro-antd/date-picker/date-picker.service';\nimport { Subject } from 'rxjs';\nimport { RangePickerShortcutTplComponent } from './range-shortcut.component';\n\n@Directive({\n  selector: 'nz-range-picker[extend]',\n  exportAs: 'extendRangePicker',\n})\nexport class RangePickerDirective implements OnDestroy, AfterViewInit {\n  private defaultShortcuts: AlainDateRangePickerShortcut;\n  private _shortcut: AlainDateRangePickerShortcut;\n  private destroy$ = new Subject<void>();\n  private shortcutFactory: ComponentRef<RangePickerShortcutTplComponent> | null = null;\n  start: Date | null = null;\n  end: Date | null = null;\n\n  @Input() ngModelEnd: Date | null;\n  @Input()\n  set shortcut(val: AlainDateRangePickerShortcut | null) {\n    const item = deepMergeKey({ list: [] }, true, this.defaultShortcuts, val == null ? {} : val) as AlainDateRangePickerShortcut;\n    if (typeof val !== 'object') {\n      item.enabled = val !== false;\n    }\n    (item.list || []).forEach(i => {\n      i._text = this.dom.bypassSecurityTrustHtml(i.text);\n    });\n    this._shortcut = item;\n    this.refreshShortcut();\n  }\n  get shortcut(): AlainDateRangePickerShortcut | null {\n    return this._shortcut;\n  }\n  @Output() readonly ngModelEndChange = new EventEmitter<Date | null>();\n\n  private get dp(): NzDatePickerComponent {\n    return this.nativeComp.datePicker;\n  }\n\n  private get srv(): DatePickerService {\n    return this.dp.datePickerService;\n  }\n\n  constructor(\n    private dom: DomSanitizer,\n    configSrv: AlainConfigService,\n    @Host() @Optional() private nativeComp: NzRangePickerComponent,\n    private resolver: ComponentFactoryResolver,\n    private injector: Injector,\n  ) {\n    assert(\n      !!nativeComp,\n      `It should be attached to nz-range-picker component, for example: '<nz-range-picker [(ngModel)]=\"i.start\" extend [(ngModelEnd)]=\"i.end\" shortcut></nz-range-picker>'`,\n    );\n    const cog = configSrv.merge('dataRange', {\n      nzFormat: 'yyyy-MM-dd',\n      nzAllowClear: true,\n      nzAutoFocus: false,\n      nzPopupStyle: { position: 'relative' },\n      nzShowToday: true,\n      shortcuts: {\n        enabled: false,\n        closed: true,\n        list: [\n          {\n            text: '今天',\n            fn: () => getTimeDistance('today'),\n          },\n          {\n            text: '昨天',\n            fn: () => getTimeDistance('yesterday'),\n          },\n          {\n            text: '近3天',\n            fn: () => getTimeDistance(-2),\n          },\n          {\n            text: '近7天',\n            fn: () => getTimeDistance(-6),\n          },\n          {\n            text: '本周',\n            fn: () => getTimeDistance('week'),\n          },\n          {\n            text: '本月',\n            fn: () => getTimeDistance('month'),\n          },\n          {\n            text: '全年',\n            fn: () => getTimeDistance('year'),\n          },\n        ],\n      },\n    })!;\n    this.defaultShortcuts = { ...cog.shortcuts } as AlainDateRangePickerShortcut;\n    Object.assign(this, cog);\n  }\n\n  private cd(): void {\n    (this.dp as any).cdr.markForCheck();\n  }\n\n  private overrideNative(): void {\n    const dp = this.dp;\n    dp.writeValue = (value: Date) => {\n      const dates = (value && this.ngModelEnd ? [value, this.ngModelEnd] : []).filter(w => !!w);\n      this.srv.setValue(this.srv.makeValue(dates));\n      this.start = dates.length > 0 ? dates[0] : null;\n      this.end = dates.length > 0 ? dates[1] : null;\n      this.cd();\n    };\n\n    const oldOnChangeFn = dp.onChangeFn;\n    dp.onChangeFn = (list: Array<Date | null>) => {\n      let start: Date | null = null;\n      let end: Date | null = null;\n      if (list.length > 0 && list.filter(w => w != null).length === 2) {\n        [start, end] = fixEndTimeOfRange([list[0]!, list[1]!]);\n      }\n      this.start = start;\n      this.end = end;\n      oldOnChangeFn(start);\n      this.ngModelEnd = end;\n      this.ngModelEndChange.emit(end);\n    };\n  }\n\n  private refreshShortcut(): void {\n    if (!this._shortcut) {\n      return;\n    }\n    const { enabled, list } = this._shortcut;\n    let extraFooter: TemplateRef<any> | undefined;\n    if (!this.nativeComp || !enabled) {\n      extraFooter = undefined;\n    } else {\n      if (!this.shortcutFactory) {\n        const factory = this.resolver.resolveComponentFactory(RangePickerShortcutTplComponent);\n        this.shortcutFactory = factory.create(this.injector);\n      }\n      const { instance } = this.shortcutFactory;\n      instance.list = list!;\n      instance.click = (item: AlainDateRangePickerShortcutItem) => {\n        const res = item.fn([this.start, this.end]);\n        this.srv.setValue(this.srv.makeValue(res as Date[]));\n        this.dp.onChangeFn(res);\n        this.dp.close();\n      };\n      extraFooter = instance.tpl;\n    }\n    this.nativeComp.datePicker.extraFooter = extraFooter;\n    Promise.resolve().then(() => this.cd());\n  }\n\n  ngAfterViewInit(): void {\n    this.overrideNative();\n    this.refreshShortcut();\n  }\n\n  private destoryShortcut(): void {\n    if (this.shortcutFactory != null) {\n      this.shortcutFactory.destroy();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destoryShortcut();\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzDatePickerModule } from 'ng-zorro-antd/date-picker';\nimport { RangePickerShortcutTplComponent } from './range-shortcut.component';\nimport { RangePickerComponent } from './range.component';\nimport { RangePickerDirective } from './range.directive';\n\nconst COMPONENTS = [RangePickerComponent, RangePickerDirective, RangePickerShortcutTplComponent];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, NzDatePickerModule],\n  declarations: COMPONENTS,\n  exports: COMPONENTS,\n})\nexport class DatePickerModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {RangePickerShortcutTplComponent as ɵa} from './range-shortcut.component';"],"names":[],"mappings":";;;;;;;;;;;;AAUA;;;;;;;;;AASG;MAaU,oBAAoB,CAAA;;IAqD/B,WAAoB,CAAA,GAAiB,EAAE,SAA6B,EAAA;QAAhD,IAAG,CAAA,GAAA,GAAH,GAAG,CAAc;QAhDrC,IAAK,CAAA,KAAA,GAAuB,EAAE,CAAC;AAiBZ,QAAA,IAAA,CAAA,gBAAgB,GAAG,IAAI,YAAY,EAAQ,CAAC;;QAItD,IAAY,CAAA,YAAA,GAAG,IAAI,CAAC;QACpB,IAAW,CAAA,WAAA,GAAG,KAAK,CAAC;AAUV,QAAA,IAAA,CAAA,cAAc,GAAG,IAAI,YAAY,EAAW,CAAC;QAQvC,IAAW,CAAA,WAAA,GAAY,IAAI,CAAC;AAGlC,QAAA,IAAA,CAAA,eAAe,GAAG,IAAI,YAAY,EAAO,CAAC;AAC1C,QAAA,IAAA,CAAA,MAAM,GAAG,IAAI,YAAY,EAAO,CAAC;AAKlD,QAAA,MAAM,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,EAAE;AACvC,YAAA,QAAQ,EAAE,YAAY;AACtB,YAAA,YAAY,EAAE,IAAI;AAClB,YAAA,WAAW,EAAE,KAAK;AAClB,YAAA,YAAY,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE;AACtC,YAAA,WAAW,EAAE,IAAI;AACjB,YAAA,SAAS,EAAE;AACT,gBAAA,OAAO,EAAE,KAAK;AACd,gBAAA,MAAM,EAAE,IAAI;AACZ,gBAAA,IAAI,EAAE;AACJ,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,OAAO,CAAC;AACnC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,WAAW,CAAC;AACvC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,KAAK;wBACX,EAAE,EAAE,MAAM,eAAe,CAAC,CAAC,CAAC,CAAC;AAC9B,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,KAAK;wBACX,EAAE,EAAE,MAAM,eAAe,CAAC,CAAC,CAAC,CAAC;AAC9B,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,MAAM,CAAC;AAClC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,OAAO,CAAC;AACnC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,MAAM,CAAC;AAClC,qBAAA;AACF,iBAAA;AACF,aAAA;AACF,SAAA,CAAE,CAAC;QACJ,IAAI,CAAC,gBAAgB,GAAG,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,GAAG,CAAC,SAAS,CAAkC,CAAC;AAC7E,QAAA,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;KAC1B;IAzFD,IACI,QAAQ,CAAC,GAAwC,EAAA;QACnD,MAAM,IAAI,GAAG,YAAY,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,GAAG,IAAI,IAAI,GAAG,EAAE,GAAG,GAAG,CAAiC,CAAC;AACnH,QAAA,IAAI,OAAO,GAAG,KAAK,SAAS,EAAE;AAC5B,YAAA,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;AACpB,SAAA;QACD,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC,IAAG;AAC5B,YAAA,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACrD,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;KACvB;AACD,IAAA,IAAI,QAAQ,GAAA;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;AA8ED,IAAA,eAAe,CAAC,CAAM,EAAA;AACpB,QAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAC7B;AAED,IAAA,gBAAgB,CAAC,CAAM,EAAA;AACrB,QAAA,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAC9B;AAED,IAAA,OAAO,CAAC,CAAM,EAAA;AACZ,QAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACrB;AAED,IAAA,WAAW,CAAC,CAAe,EAAA;AACzB,QAAA,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB,QAAA,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KAClC;AAED,IAAA,UAAU,CAAC,KAAW,EAAA;QACpB,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;KACvE;AAED,IAAA,gBAAgB,CAAC,EAAuB,EAAA;AACtC,QAAA,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;KACtB;AAED,IAAA,iBAAiB,CAAC,GAAe,EAAA;;KAEhC;AAED,IAAA,gBAAgB,CAAC,QAAiB,EAAA;AAChC,QAAA,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;KAC5B;AAED,IAAA,aAAa,CAAC,IAAsC,EAAA;QAClD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAY,CAAC,CAAC;AACxC,QAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAqB,CAAC,CAAC;AAC7C,QAAA,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;;YAExB,IAAI,CAAC,IAAkB,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC;AAClD,SAAA;KACF;;;AAzJF,IAAA,EAAA,IAAA,EAAA,SAAS,EAAC,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,cAAc;AACxB,gBAAA,QAAQ,EAAE,aAAa;gBACvB,QAAqC,EAAA,ylCAAA;AACrC,gBAAA,SAAS,EAAE;AACT,oBAAA;AACE,wBAAA,OAAO,EAAE,iBAAiB;AAC1B,wBAAA,KAAK,EAAE,IAAI;AACX,wBAAA,WAAW,EAAE,UAAU,CAAC,MAAM,oBAAoB,CAAC;AACpD,qBAAA;AACF,iBAAA;AACF,aAAA,EAAA,EAAA;;;;YA7BQ,YAAY,EAAA;YACZ,kBAAkB,EAAA;;;AAiCxB,IAAA,IAAA,EAAA,CAAA,EAAA,IAAA,EAAA,SAAS,SAAC,MAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAA,EAAA,CAAA;yBAGnC,KAAK,EAAA,CAAA;uBACL,KAAK,EAAA,CAAA;+BAcL,MAAM,EAAA,CAAA;2BAIN,KAAK,EAAA,CAAA;0BACL,KAAK,EAAA,CAAA;0BACL,KAAK,EAAA,CAAA;yBACL,KAAK,EAAA,CAAA;qBACL,KAAK,EAAA,CAAA;sBACL,KAAK,EAAA,CAAA;6BACL,KAAK,EAAA,CAAA;uBACL,KAAK,EAAA,CAAA;2BACL,KAAK,EAAA,CAAA;kCACL,KAAK,EAAA,CAAA;4BACL,KAAK,EAAA,CAAA;6BACL,MAAM,EAAA,CAAA;2BAGN,KAAK,EAAA,CAAA;uBACL,KAAK,EAAA,CAAA;6BACL,KAAK,EAAA,CAAA;kCACL,KAAK,EAAA,CAAA;yBACL,KAAK,EAAA,CAAA;0BACL,KAAK,EAAA,CAAA;qBACL,KAAK,EAAA,CAAA;uBACL,KAAK,EAAA,CAAA;8BACL,MAAM,EAAA,CAAA;qBACN,MAAM,EAAA,CAAA;;AAJkB,UAAA,CAAA;AAAf,IAAA,YAAY,EAAE;;AAA6B,CAAA,EAAA,oBAAA,CAAA,SAAA,EAAA,aAAA,EAAA,KAAA,CAAA,CAAA;;MClE1C,+BAA+B,CAAA;AAR5C,IAAA,WAAA,GAAA;QAYE,IAAI,CAAA,IAAA,GAAuC,EAAE,CAAC;KAG/C;IADC,KAAK,CAAC,CAAmC,EAAA,GAAU;;;AAdpD,IAAA,EAAA,IAAA,EAAA,SAAS,EAAC,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,EAAE;AACZ,gBAAA,QAAQ,EAAE,CAAA;;;;AAIT,EAAA,CAAA;AACF,aAAA,EAAA,EAAA;;;AAEE,IAAA,GAAA,EAAA,CAAA,EAAA,IAAA,EAAA,SAAS,SAAC,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAA,EAAA,CAAA;;;MCevB,oBAAoB,CAAA;IAkC/B,WACU,CAAA,GAAiB,EACzB,SAA6B,EACD,UAAkC,EACtD,QAAkC,EAClC,QAAkB,EAAA;QAJlB,IAAG,CAAA,GAAA,GAAH,GAAG,CAAc;QAEG,IAAU,CAAA,UAAA,GAAV,UAAU,CAAwB;QACtD,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAA0B;QAClC,IAAQ,CAAA,QAAA,GAAR,QAAQ,CAAU;AApCpB,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,OAAO,EAAQ,CAAC;QAC/B,IAAe,CAAA,eAAA,GAAyD,IAAI,CAAC;QACrF,IAAK,CAAA,KAAA,GAAgB,IAAI,CAAC;QAC1B,IAAG,CAAA,GAAA,GAAgB,IAAI,CAAC;AAkBL,QAAA,IAAA,CAAA,gBAAgB,GAAG,IAAI,YAAY,EAAe,CAAC;AAiBpE,QAAA,MAAM,CACJ,CAAC,CAAC,UAAU,EACZ,CAAA,mKAAA,CAAqK,CACtK,CAAC;AACF,QAAA,MAAM,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,EAAE;AACvC,YAAA,QAAQ,EAAE,YAAY;AACtB,YAAA,YAAY,EAAE,IAAI;AAClB,YAAA,WAAW,EAAE,KAAK;AAClB,YAAA,YAAY,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE;AACtC,YAAA,WAAW,EAAE,IAAI;AACjB,YAAA,SAAS,EAAE;AACT,gBAAA,OAAO,EAAE,KAAK;AACd,gBAAA,MAAM,EAAE,IAAI;AACZ,gBAAA,IAAI,EAAE;AACJ,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,OAAO,CAAC;AACnC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,WAAW,CAAC;AACvC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,KAAK;wBACX,EAAE,EAAE,MAAM,eAAe,CAAC,CAAC,CAAC,CAAC;AAC9B,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,KAAK;wBACX,EAAE,EAAE,MAAM,eAAe,CAAC,CAAC,CAAC,CAAC;AAC9B,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,MAAM,CAAC;AAClC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,OAAO,CAAC;AACnC,qBAAA;AACD,oBAAA;AACE,wBAAA,IAAI,EAAE,IAAI;AACV,wBAAA,EAAE,EAAE,MAAM,eAAe,CAAC,MAAM,CAAC;AAClC,qBAAA;AACF,iBAAA;AACF,aAAA;AACF,SAAA,CAAE,CAAC;QACJ,IAAI,CAAC,gBAAgB,GAAG,MAAA,CAAA,MAAA,CAAA,EAAA,EAAK,GAAG,CAAC,SAAS,CAAkC,CAAC;AAC7E,QAAA,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;KAC1B;IA/ED,IACI,QAAQ,CAAC,GAAwC,EAAA;AACnD,QAAA,MAAM,IAAI,GAAG,YAAY,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,EAAE,GAAG,IAAI,IAAI,GAAG,EAAE,GAAG,GAAG,CAAiC,CAAC;AAC7H,QAAA,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AAC3B,YAAA,IAAI,CAAC,OAAO,GAAG,GAAG,KAAK,KAAK,CAAC;AAC9B,SAAA;QACD,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE,OAAO,CAAC,CAAC,IAAG;AAC5B,YAAA,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACrD,SAAC,CAAC,CAAC;AACH,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;AACD,IAAA,IAAI,QAAQ,GAAA;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;AAGD,IAAA,IAAY,EAAE,GAAA;AACZ,QAAA,OAAO,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;KACnC;AAED,IAAA,IAAY,GAAG,GAAA;AACb,QAAA,OAAO,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC;KAClC;IA0DO,EAAE,GAAA;AACP,QAAA,IAAI,CAAC,EAAU,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;KACrC;IAEO,cAAc,GAAA;AACpB,QAAA,MAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AACnB,QAAA,EAAE,CAAC,UAAU,GAAG,CAAC,KAAW,KAAI;AAC9B,YAAA,MAAM,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1F,YAAA,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;AAC7C,YAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;AAChD,YAAA,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;YAC9C,IAAI,CAAC,EAAE,EAAE,CAAC;AACZ,SAAC,CAAC;AAEF,QAAA,MAAM,aAAa,GAAG,EAAE,CAAC,UAAU,CAAC;AACpC,QAAA,EAAE,CAAC,UAAU,GAAG,CAAC,IAAwB,KAAI;YAC3C,IAAI,KAAK,GAAgB,IAAI,CAAC;YAC9B,IAAI,GAAG,GAAgB,IAAI,CAAC;YAC5B,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;AAC/D,gBAAA,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAE,EAAE,IAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC;AACxD,aAAA;AACD,YAAA,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,YAAA,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;YACf,aAAa,CAAC,KAAK,CAAC,CAAC;AACrB,YAAA,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;AACtB,YAAA,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAClC,SAAC,CAAC;KACH;IAEO,eAAe,GAAA;AACrB,QAAA,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,OAAO;AACR,SAAA;QACD,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC;AACzC,QAAA,IAAI,WAAyC,CAAC;AAC9C,QAAA,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,OAAO,EAAE;YAChC,WAAW,GAAG,SAAS,CAAC;AACzB,SAAA;AAAM,aAAA;AACL,YAAA,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;gBACzB,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,+BAA+B,CAAC,CAAC;gBACvF,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtD,aAAA;AACD,YAAA,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC;AAC1C,YAAA,QAAQ,CAAC,IAAI,GAAG,IAAK,CAAC;AACtB,YAAA,QAAQ,CAAC,KAAK,GAAG,CAAC,IAAsC,KAAI;AAC1D,gBAAA,MAAM,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;AAC5C,gBAAA,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAa,CAAC,CAAC,CAAC;AACrD,gBAAA,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACxB,gBAAA,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;AAClB,aAAC,CAAC;AACF,YAAA,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC;AAC5B,SAAA;QACD,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,GAAG,WAAW,CAAC;AACrD,QAAA,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;KACzC;IAED,eAAe,GAAA;QACb,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;IAEO,eAAe,GAAA;AACrB,QAAA,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,EAAE;AAChC,YAAA,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;AAChC,SAAA;KACF;IAED,WAAW,GAAA;QACT,IAAI,CAAC,eAAe,EAAE,CAAC;AACvB,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACrB,QAAA,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC1B;;;AArKF,IAAA,EAAA,IAAA,EAAA,SAAS,EAAC,IAAA,EAAA,CAAA;AACT,gBAAA,QAAQ,EAAE,yBAAyB;AACnC,gBAAA,QAAQ,EAAE,mBAAmB;AAC9B,aAAA,EAAA,EAAA;;;;YAZQ,YAAY,EAAA;YACZ,kBAAkB,EAAA;YAGK,sBAAsB,EAAA,UAAA,EAAA,CAAA,EAAA,IAAA,EA8CjD,IAAI,EAAA,EAAA,EAAA,IAAA,EAAI,QAAQ,EAAA,CAAA,EAAA;YA9DnB,wBAAwB,EAAA;YAKxB,QAAQ,EAAA;;;yBA4BP,KAAK,EAAA,CAAA;uBACL,KAAK,EAAA,CAAA;+BAeL,MAAM,EAAA,CAAA;;;AC3CT,MAAM,UAAU,GAAG,CAAC,oBAAoB,EAAE,oBAAoB,EAAE,+BAA+B,CAAC,CAAC;MAOpF,gBAAgB,CAAA;;;AAL5B,IAAA,EAAA,IAAA,EAAA,QAAQ,EAAC,IAAA,EAAA,CAAA;AACR,gBAAA,OAAO,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,kBAAkB,CAAC;AACxD,gBAAA,YAAY,EAAE,UAAU;AACxB,gBAAA,OAAO,EAAE,UAAU;AACpB,aAAA,EAAA,EAAA;;;ACdD;;AAEG;;;;"}