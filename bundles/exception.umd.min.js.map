{"version":3,"names":["ExceptionComponent","i18n","dom","directionality","this","destroy$","Subject","locale","hasCon","dir","_img","_title","_desc","Object","defineProperty","prototype","set","value","item","img","title","fixImg","_type","src","bypassSecurityTrustStyle","bypassSecurityTrustHtml","checkContent","isEmpty","conTpl","nativeElement","ngOnInit","_this","_a","change","pipe","takeUntil","subscribe","direction","getData","ngOnDestroy","next","complete","type","Component","args","selector","exportAs","template","host","preserveWhitespaces","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","DelonLocaleService","DomSanitizer","Directionality","decorators","Optional","ViewChild","static","Input","COMPONENTS","ExceptionModule","NgModule","imports","CommonModule","RouterModule","DelonLocaleModule","NzButtonModule","declarations","exports"],"sources":["../../../../packages/abc/exception/exception.component.ts","../../../../packages/abc/exception/exception.module.ts"],"sourcesContent":["import { Direction, Directionality } from '@angular/cdk/bidi';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeUrl } from '@angular/platform-browser';\nimport { DelonLocaleService, LocaleData } from '@delon/theme';\nimport { isEmpty } from '@delon/util/browser';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport type ExceptionType = 403 | 404 | 500;\n\n@Component({\n  selector: 'exception',\n  exportAs: 'exception',\n  templateUrl: './exception.component.html',\n  host: {\n    '[class.exception]': 'true',\n    '[class.exception-rtl]': `dir === 'rtl'`,\n  },\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ExceptionComponent implements OnInit, OnDestroy {\n  static ngAcceptInputType_type: ExceptionType | string;\n\n  private destroy$ = new Subject<void>();\n  @ViewChild('conTpl', { static: true }) private conTpl: ElementRef;\n\n  _type: ExceptionType;\n  locale: LocaleData = {};\n  hasCon = false;\n  dir: Direction = 'ltr';\n\n  _img: SafeUrl = '';\n  _title: SafeHtml = '';\n  _desc: SafeHtml = '';\n\n  @Input()\n  set type(value: ExceptionType) {\n    const item = {\n      403: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\n        title: '403',\n      },\n      404: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\n        title: '404',\n      },\n      500: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\n        title: '500',\n      },\n    }[value];\n\n    if (!item) return;\n\n    this.fixImg(item.img);\n    this._type = value;\n    this._title = item.title;\n    this._desc = '';\n  }\n\n  private fixImg(src: string): void {\n    this._img = this.dom.bypassSecurityTrustStyle(`url('${src}')`);\n  }\n\n  @Input()\n  set img(value: string) {\n    this.fixImg(value);\n  }\n\n  @Input()\n  set title(value: string) {\n    this._title = this.dom.bypassSecurityTrustHtml(value);\n  }\n\n  @Input()\n  set desc(value: string) {\n    this._desc = this.dom.bypassSecurityTrustHtml(value);\n  }\n\n  checkContent(): void {\n    this.hasCon = !isEmpty(this.conTpl.nativeElement);\n  }\n\n  constructor(private i18n: DelonLocaleService, private dom: DomSanitizer, @Optional() private directionality: Directionality) {}\n\n  ngOnInit(): void {\n    this.dir = this.directionality.value;\n    this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction: Direction) => {\n      this.dir = direction;\n    });\n    this.i18n.change.pipe(takeUntil(this.destroy$)).subscribe(() => (this.locale = this.i18n.getData('exception')));\n    this.checkContent();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { DelonLocaleModule } from '@delon/theme';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\n\nimport { ExceptionComponent } from './exception.component';\n\nconst COMPONENTS = [ExceptionComponent];\n\n@NgModule({\n  imports: [CommonModule, RouterModule, DelonLocaleModule, NzButtonModule],\n  declarations: COMPONENTS,\n  exports: COMPONENTS,\n})\nexport class ExceptionModule {}\n"],"mappings":"i7BAgCA,IAAAA,EAAA,WA+DE,SAAAA,EAAoBC,EAAkCC,EAAuCC,GAAzEC,KAAIH,KAAJA,EAAkCG,KAAGF,IAAHA,EAAuCE,KAAcD,eAAdA,EA5DrFC,KAAAC,SAAW,IAAIC,UAIvBF,KAAMG,OAAe,GACrBH,KAAMI,QAAG,EACTJ,KAAGK,IAAc,MAEjBL,KAAIM,KAAY,GAChBN,KAAMO,OAAa,GACnBP,KAAKQ,MAAa,G,OAElBC,OAAAC,eACId,EAAIe,UAAA,QADRC,IAAA,SACSC,GACP,IAAMC,EAAO,CACX,IAAK,CACHC,IAAK,sEACLC,MAAO,OAET,IAAK,CACHD,IAAK,sEACLC,MAAO,OAET,IAAK,CACHD,IAAK,sEACLC,MAAO,QAETH,GAEGC,IAELd,KAAKiB,OAAOH,EAAKC,KACjBf,KAAKkB,MAAQL,EACbb,KAAKO,OAASO,EAAKE,MACnBhB,KAAKQ,MAAQ,K,gCAGPZ,EAAMe,UAAAM,OAAN,SAAOE,GACbnB,KAAKM,KAAON,KAAKF,IAAIsB,yBAAyB,QAAQD,EAAG,OAG3DV,OAAAC,eACId,EAAGe,UAAA,OADPC,IAAA,SACQC,GACNb,KAAKiB,OAAOJ,I,gCAGdJ,OAAAC,eACId,EAAKe,UAAA,SADTC,IAAA,SACUC,GACRb,KAAKO,OAASP,KAAKF,IAAIuB,wBAAwBR,I,gCAGjDJ,OAAAC,eACId,EAAIe,UAAA,QADRC,IAAA,SACSC,GACPb,KAAKQ,MAAQR,KAAKF,IAAIuB,wBAAwBR,I,gCAGhDjB,EAAAe,UAAAW,aAAA,WACEtB,KAAKI,QAAUmB,UAAQvB,KAAKwB,OAAOC,gBAKrC7B,EAAAe,UAAAe,SAAA,e,EAOCC,EAAA3B,KANCA,KAAKK,IAAML,KAAKD,eAAec,MACH,QAA5Be,EAAA5B,KAAKD,eAAe8B,cAAQ,IAAAD,KAAAE,KAAKC,YAAU/B,KAAKC,WAAW+B,WAAU,SAACC,GACpEN,EAAKtB,IAAM4B,KAEbjC,KAAKH,KAAKgC,OAAOC,KAAKC,YAAU/B,KAAKC,WAAW+B,WAAU,WAAM,OAACL,EAAKxB,OAASwB,EAAK9B,KAAKqC,QAAQ,gBACjGlC,KAAKsB,gBAGP1B,EAAAe,UAAAwB,YAAA,WACEnC,KAAKC,SAASmC,OACdpC,KAAKC,SAASoC,Y,EA5ElB,G,cAZC,CAAAC,KAAAC,YAAUC,KAAA,EACTC,SAAU,YACVC,SAAU,YACVC,SAAyC,0jBACzCC,KAAM,CACJ,oBAAqB,OACrB,wBAAyB,iBAE3BC,qBAAqB,EACrBC,gBAAiBC,0BAAwBC,OACzCC,cAAeC,oBAAkBC,S,yCAjB1BC,sB,MADAC,gBAZW,CAAAf,KAAAgB,iBAAcC,WAAA,EAAAjB,KA+F0CkB,gB,kBA3DzEhC,OAAA,EAAAc,KAAAmB,YAASjB,KAAA,CAAC,SAAU,CAAEkB,QAAQ,M,YAW9BC,U,WA6BAA,U,aAKAA,U,YAKAA,WC9EH,IAAMC,EAAa,CAAChE,GAOpBiE,EAAA,a,cALC,CAAAvB,KAAAwB,WAAStB,KAAA,EACRuB,QAAS,CAACC,eAAcC,eAAcC,oBAAmBC,kBACzDC,aAAcR,EACdS,QAAST,M"}